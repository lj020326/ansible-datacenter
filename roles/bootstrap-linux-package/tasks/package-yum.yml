---

- name: "Update yum repos"
  when:
    - bootstrap_linux_package_yum_repo_list|d([])|length>0
    - bootstrap_linux_package_update_cache|bool
    - not item.yum_ignore|default('no')|bool
  include_tasks: package-yum-update.yml

- name: Yum
  yum:
    name: "{{ item.yum | default(item.name) }}"
    state: "{{ item.state | default(bootstrap_linux_package_state) }}"
    update_cache: "{{ bootstrap_linux_package_update_cache }}"
  when: not item.yum_ignore|default('no')|bool
  with_items: "{{ __bootstrap_linux_package_list }}"
