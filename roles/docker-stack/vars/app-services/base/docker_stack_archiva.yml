---

__docker_stack_appspecs__archiva_http_port: "{{ docker_stack_archiva_http_port | d('4080') }}"
__docker_stack_appspecs__archiva_smtp_host: "{{ docker_stack_archiva_smtp_host | d('mail.example.int') }}"

docker_stack_appspec_config_dirs__archiva:
  - { path: "{{ docker_stack_dir }}/archiva" }

docker_stack_firewalld_appspec_ports__archiva:
  - "{{ docker_stack_archiva_http_port }}/tcp"

#docker_stack_appspec_config_tpls__archiva:
#  - { src: "archiva/archiva.xml.j2", dest: "{{ docker_stack_dir }}/archiva/conf/archiva.xml" }

docker_stack_appspec__archiva:
  dirs: "{{ docker_stack_appspec_config_dirs__archiva | d([]) }}"
  files: "{{ docker_stack_appspec_config_files__archiva | d([]) }}"
  templates: "{{ docker_stack_appspec_config_tpls__archiva | d([]) }}"
  firewalld_services: "{{ docker_stack_firewalld_appspec_services__archiva | d([]) }}"
  firewalld_ports: "{{ docker_stack_firewalld_appspec_ports__archiva | d([]) }}"
  docker_services: "{{ docker_stack_appspec_services__archiva | d({}) }}"
