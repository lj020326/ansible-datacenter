---

__docker_stack_appspecs__keycloak_stack_dir: "{{ docker_stack_dir | d('/home/user/docker-dirs') }}"

#__docker_stack_appspecs__keycloak_image: "jboss/keycloak"
__docker_stack_appspecs__keycloak_image: "jboss/keycloak:11.0.3"

__docker_stack_appspecs__keycloak_postgres_user: "{{ docker_stack_keycloak_postgres_user | d('keycloak') }}"
__docker_stack_appspecs__keycloak_postgres_password: "{{ docker_stack_keycloak_postgres_password | d('password') }}"
__docker_stack_appspecs__keycloak_user: "{{ docker_stack_keycloak_user | d('user') }}"
__docker_stack_appspecs__keycloak_password: "{{ docker_stack_keycloak_password | d('password') }}"

__docker_stack_appspecs__keycloak_internal_domain: "{{ docker_stack_internal_domain | d('example.int') }}"
__docker_stack_appspecs__keycloak_external_domain: "{{ docker_stack_external_domain | d('example.com') }}"

docker_stack_appspec_config_dirs__keycloak:
  - { path: "{{ docker_stack_dir }}/keycloak" }
  - { path: "{{ docker_stack_dir }}/keycloak/data" }
  - { path: "{{ docker_stack_dir }}/keycloak/themes" }

docker_stack_appspec_volumes__keycloak:
  keycloak_data: {}

#docker_stack_appspec__keycloak:
#  dirs: "{{ docker_stack_appspec_config_dirs__keycloak | d({}) }}"
#  files: "{{ docker_stack_appspec_config_files__keycloak | d({}) }}"
#  templates: "{{ docker_stack_appspec_config_tpls__keycloak | d({}) }}"
#  firewalld_services: "{{ docker_stack_firewalld_appspec_services__keycloak | d({}) }}"
#  firewalld_ports: "{{ docker_stack_firewalld_appspec_ports__keycloak | d({}) }}"
#  docker_services: "{{ docker_stack_appspec_services__keycloak | d({}) }}"

docker_stack_appspec__keycloak:
  dirs: "{{ docker_stack_appspec_config_dirs__keycloak | d([]) }}"
  files: "{{ docker_stack_appspec_config_files__keycloak | d([]) }}"
  templates: "{{ docker_stack_appspec_config_tpls__keycloak | d([]) }}"
  firewalld_services: "{{ docker_stack_firewalld_appspec_services__keycloak | d([]) }}"
  firewalld_ports: "{{ docker_stack_firewalld_appspec_ports__keycloak | d([]) }}"
  volumes: "{{ docker_stack_appspec_volumes__keycloak | d({}) }}"
  docker_services: "{{ docker_stack_appspec_services__keycloak | d({}) }}"
