---

__docker_stack_appspecs__grafana_stack_dir: "{{ docker_stack_dir | d('/home/user/docker-dirs') }}"

__docker_stack_appspecs__grafana_admin_user: "{{ docker_stack_grafana_admin_user | d('admin') }}"
__docker_stack_appspecs__grafana_admin_password: "{{ docker_stack_grafana_admin_password | d('admin') }}"

docker_stack_appspec_config_dirs__grafana:
  ## prometheus/grafana stack
  ## ref:
#  - { path: "{{ __docker_stack_appspecs__grafana_stack_dir }}/dockerd-exporter" }
  - { path: "{{ __docker_stack_appspecs__grafana_stack_dir }}/grafana" }
  - { path: "{{ __docker_stack_appspecs__grafana_stack_dir }}/prometheus" }
  - { path: "{{ __docker_stack_appspecs__grafana_stack_dir }}/prometheus/rules" }

docker_stack_appspec_config_tpls__grafana:
  ## ref: https://github.com/ansible/ansible/issues/22358
#  - { src: "caddy/Caddyfile.j2", dest: "{{ __docker_stack_appspecs__grafana_stack_dir }}/dockerd-exporter/Caddyfile" }


docker_stack_appspec_volumes__grafana:
  prometheus: {}
  grafana: {}
  alertmanager: {}

docker_stack_appspec__grafana:
  dirs: "{{ docker_stack_appspec_config_dirs__grafana | d([]) }}"
  files: "{{ docker_stack_appspec_config_files__grafana | d([]) }}"
  templates: "{{ docker_stack_appspec_config_tpls__grafana | d([]) }}"
  firewalld_services: "{{ docker_stack_firewalld_appspec_services__grafana | d([]) }}"
  firewalld_ports: "{{ docker_stack_firewalld_appspec_ports__grafana | d([]) }}"
  networks: "{{ docker_stack_appspec_networks__grafana | d({}) }}"
  volumes: "{{ docker_stack_appspec_volumes__grafana | d({}) }}"
  docker_services: "{{ docker_stack_appspec_services__grafana | d({}) }}"
