---

- name: "Display key parameters for {{ role_name }}"
  block:
    - debug:
        var: bootstrap_linux_user_list

- name: Show variables with 'bootstrap_linux_users__' in their names
  debug:
    msg: "{{ lookup('varnames', '^bootstrap_linux_users__', wantlist=True) }}"

- name: Initialize __bootstrap_linux_users with bootstrap_linux_user_list
  set_fact:
    __bootstrap_linux_users: "{{ bootstrap_linux_users|d([]) }}"

- name: Combine additive/role-specific lists from bootstrap_linux_user_list__* vars into merged list
  set_fact:
    __bootstrap_linux_users: "{{ __bootstrap_linux_users|d([]) + lookup('vars', item)|d([]) }}"
  loop: "{{ lookup('varnames','^bootstrap_linux_users__', wantlist=True) }}"

- name: display __bootstrap_linux_users
  debug:
    var: __bootstrap_linux_users
