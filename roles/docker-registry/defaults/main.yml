---
docker_registry_enable_service: no

registry_proxy_remote_url: https://registry-1.docker.io

pki_cert_dir: /etc/ssl/certs
pki_key_dir: /etc/ssl/private

registry_name: registry
registry_domain: "example.com"
registry_container_name: "registry"
registry_realm: "Registry Realm"

registry_config_path: "/etc/docker-registry"
registry_auth_path: "{{ role_path }}/files/auth"
registry_auth_file: htpasswd 
registry_cert_path: "{{ registry_config_path }}/certs"
#registry_cert_file: "{{ registry_domain }}.crt"
#registry_key_file: "{{ registry_domain }}.key"
#registry_cert_file: "{{ registry_common_name }}.crt"
registry_cert_file: "{{ registry_name }}.pem"
registry_key_file: "{{ registry_name }}-key.pem"
registry_host_port: "5000"
registry_container_port: "5000"
registry_frontend_port: "8443"

registry_enable_auth: yes

registry_users:
  - username: testuser
    password: testpassword
  - username: testuser2
    password: testpassword2

registry_create_certs: yes
registry_country: US  
registry_province: NC
registry_locality: Durham
registry_organization: Acme, Inc.
registry_organizational_unit: Widgets
#registry_common_name: localhost
#registry_proxy_fqdn: registry.exmaple.local
registry_common_name: "{{registry_name}}.{{registry_domain}}"
registry_proxy_fqdn: "{{registry_name}}.{{registry_domain}}"

registry_altnames:
  - type: IP.1
    name: 127.0.0.1 

htpasswd_deps_pkgs:
  - python2-passlib
  - python2-bcrypt

# where to copy the produces files to
#ca_distribution_certs_dir: "{{ playbook_dir }}/../keys_n_certs"
