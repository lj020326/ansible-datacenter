---

- name: "Include {{ ansible_distribution }} specific variables"
  ansible.builtin.include_vars: "{{ item }}"
  with_first_found:
    - "{{ ansible_distribution|lower }}-{{ ansible_distribution_major_version|lower }}.yml"
    - "{{ ansible_distribution|lower }}.yml"
    - "{{ ansible_os_family|lower }}.yml"
    - "default.yml"

- name: "Display key parameters for {{ role_name }}"
  block:
    - debug:
        var: bootstrap_linux_mount__list
    - debug:
        var: bootstrap_linux_mount__state

- name: "Show variables with 'bootstrap_linux_mount__list__' in their names"
  debug:
    msg: "{{ lookup('varnames', '^bootstrap_linux_mount__list__', wantlist=True) }}"

- name: "Init __bootstrap_linux_mount__list"
  ansible.builtin.set_fact:
    __bootstrap_linux_mount__list: "{{ bootstrap_linux_mount__list|d([]) }}"

- name: "Combine bootstrap_linux_mount__list__* vars into merged list"
  ansible.builtin.set_fact:
    __bootstrap_linux_mount__list: "{{ __bootstrap_linux_mount__list|d([]) + lookup('vars', item)|d([]) }}"
  loop: "{{ lookup('varnames','^bootstrap_linux_mount__list__', wantlist=True) }}"

- name: "Display __bootstrap_linux_mount__list"
  debug:
    var: __bootstrap_linux_mount__list

