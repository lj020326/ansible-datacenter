---

bootstrap_linux_core__setup_dns: yes
bootstrap_linux_core__dns_domain: "example.int"
bootstrap_linux_core__dns_search_domains:
  - example.int

## COMMON CONFIGS
#bootstrap_linux_core__default_path: /bin:/sbin:/usr/bin:/usr/sbin
#bootstrap_linux_core__default_path: /bin:/sbin:/usr/bin:/usr/sbin:/usr/local/bin
#bootstrap_linux_core__default_path: /bin:/sbin:/usr/bin:/usr/sbin:/usr/local/bin:/usr/local/sbin
#bootstrap_linux_core__default_path: /bin:/sbin:/usr/bin:/usr/sbin:/usr/local/bin:/usr/local/sbin
bootstrap_linux_core__default_path: /usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin
#bootstrap_linux_core__default_path: ~/.local/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin

bootstrap_linux_core__init_network: no

bootstrap_linux_core__restart_systemd: yes

bootstrap_linux_core__stop_user_procs: yes

bootstrap_linux_core__init_hosts_file: yes

bootstrap_linux_core__setup_figurine: yes
#bootstrap_linux_core__figurine_force_config: no
bootstrap_linux_core__figurine_force_config: yes
bootstrap_linux_core__figurine_name: "{{ ansible_hostname }}"

bootstrap_linux_core__ansible_ssh_allowed_ips:
  - 127.0.0.1

bootstrap_linux_core__network_name_servers:
  - 192.168.0.1

bootstrap_linux_core__set_timezone: yes
#bootstrap_linux_core__timezone: Etc/UTC
bootstrap_linux_core__timezone: America/New_York

## hostname
bootstrap_linux_core__setup_hostname: yes

bootstrap_linux_core__hostname_internal_domain: "example.int"
bootstrap_linux_core__hostname_hosts_file_location: "/etc/hosts"
bootstrap_linux_core__hostname_hosts_template: 'hosts.j2'
bootstrap_linux_core__hostname_hosts_backup: yes

#bootstrap_linux_core__hostname_name_full: "{{ inventory_hostname }}"
#bootstrap_linux_core__hostname_name_short: "{{ inventory_hostname_short }}"
#bootstrap_linux_core__hostname_name_full: "{{ ansible_fqdn }}"
#bootstrap_linux_core__hostname_name_short: "{{ ansible_hostname }}"

#bootstrap_linux_core__hostname_name_full: "{{ hostvars[inventory_hostname]['ansible_fqdn'] }}"
#bootstrap_linux_core__hostname_name_full: "{{ inventory_hostname }}"
bootstrap_linux_core__hostname_name_full: "{{ inventory_hostname_short }}.{{ bootstrap_linux_core__hostname_internal_domain }}"
bootstrap_linux_core__hostname_name_short: "{{ inventory_hostname_short }}"

bootstrap_linux_core__hostname_hosts: []
#bootstrap_linux_core__hostname_hosts:
#  - ip: "{{ ansible_default_ipv4.address }}"
#    name: "{{ bootstrap_linux_core__hostname_name_full }}"
#    aliases: [ "{{ bootstrap_linux_core__hostname_name_short }}" ]

bootstrap_linux_core__systemd_sysctl_execstart: "/lib/systemd/systemd-sysctl"
#bootstrap_linux_core__systemd_sysctl_execstart: "/usr/lib/systemd/systemd-sysctl"

bootstrap_linux_core__setup_journald: yes

bootstrap_linux_core__network:
  network:
    version: 2
    renderer: networkd
    ethernets:
      ens160:
        dhcp4: yes
        dhcp6: yes
        ## ref: https://www.oxcrag.net/2019/02/07/creating-a-working-ubuntu-18-04-vmware-template/
        dhcp-identifier: mac
#        set-name: ens192


bootstrap_linux_core__setup_backup_scripts: no
bootstrap_linux_core__backup_script_dir: "/opt/scripts"
bootstrap_linux_core__fwbackups_dir: "/srv/backups/fwbackups"
bootstrap_linux_core__backups_dir: "/srv/backups"
bootstrap_linux_core__backups_log_dir: "/var/log/backups"

bootstrap_linux_core__backup_script_dirs:
  - { path: "{{ bootstrap_linux_core__backup_script_dir }}", recurse: yes  }
  - { path: "{{ bootstrap_linux_core__fwbackups_dir }}", recurse: yes }
  - { path: "{{ bootstrap_linux_core__backups_dir }}" }
  - { path: "{{ bootstrap_linux_core__backups_dir }}/records/daily" }
  - { path: "{{ bootstrap_linux_core__backups_dir }}/records/monthly" }
  - { path: "{{ bootstrap_linux_core__backups_log_dir }}" }

bootstrap_linux_core__backup_scripts:
  - { src: 'scripts/backups/run-backups.py', dest: "{{ bootstrap_linux_core__backup_script_dir }}"}
  - { src: 'scripts/backups/backups.yml', dest: "{{ bootstrap_linux_core__backup_script_dir }}"}
  - { src: 'scripts/backups/run-daily-backup.sh', dest: "{{ bootstrap_linux_core__backup_script_dir }}"}
  - { src: 'scripts/backups/run-monthly-backup.sh', dest: "{{ bootstrap_linux_core__backup_script_dir }}"}
  - { src: 'scripts/backups/job-backup-incremental.sh', dest: "{{ bootstrap_linux_core__backup_script_dir }}"}
  - { src: 'scripts/backups/rsync-incremental-backup-local', dest: "{{ bootstrap_linux_core__backup_script_dir }}"}
  - { src: 'scripts/backups/fwbackup.sh', dest: "{{ bootstrap_linux_core__backup_script_dir }}"}

bootstrap_linux_core__backup_script_config_tpls:
  - { src: 'scripts/backups.cfg.j2', dest: "/root/.backups.cfg", mode: "0600", backup: yes }
  - { src: 'scripts/fwbackup.conf.j2', dest: "/root/.fwbackup.cfg", mode: "0600", backup: yes }

bootstrap_linux_core__resolv_conf_dest: "/etc/resolv.conf"

bootstrap_linux_core__sysctl_configs:
  - { name: net.ipv4.ip_forward, value: 1 }
  - { name: fs.may_detach_mounts=1, value: 1 }
