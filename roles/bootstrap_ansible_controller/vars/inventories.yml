---
controller_inventories:
  - name: dettonville inventory
    description:
    organization: dettonville
    sources:
      - name: Bitbucket
        description: Inventory from repository
        update_on_launch: true
        source: scm
        source_project: dettonville inventory - AAP
        source_path: "{{ bootstrap_ansible_controller__env_specific_vars[controller_env]['dettonville_inventory_source_path'] }}"
        overwrite: true
        overwrite_vars: true
    roles:
      use:
        - SG - Ansible-Admin
        - SG - Ansible-BIDE
        - SG - Ansible-BIDT
        - SG - Ansible-ClientServices
        - SG - Ansible-Database
        - SG - Ansible-DCC
        - SG - Ansible-Digital
        - SG - Ansible-DWP
        - SG - Ansible-East
        - SG - Ansible-Infosec
        - SG - Ansible-Infrasec
        - SG - Ansible-Linux
        - SG - Ansible-Midwa
        - SG - Ansible-Network
        - SG - Ansible-Openshift
        - SG - Ansible-Rely
        - SG - Ansible-TRP
        - SG - Ansible-Windows
        - SG - Ansible-BIRT
        - jira_prod
        - aem_pipeline

  - name: dettonville Build Inventory
    description:
    organization: dettonville
    sources:
      - name: Bitbucket
        description: Inventory from repository
        update_on_launch: true
        source: scm
        source_project: dettonville Build Inventory - AAP
        source_path: "{{ bootstrap_ansible_controller__env_specific_vars[controller_env]['dettonville_inventory_source_path'] }}"
        overwrite: true
        overwrite_vars: true
    roles:
      use:
        - SG - Ansible-Admin
        - SG - Ansible-BIDE
        - SG - Ansible-BIDT
        - SG - Ansible-ClientServices
        - SG - Ansible-Database
        - SG - Ansible-DCC
        - SG - Ansible-Digital
        - SG - Ansible-DWP
        - SG - Ansible-East
        - SG - Ansible-Infosec
        - SG - Ansible-Infrasec
        - SG - Ansible-Linux
        - SG - Ansible-Midwa
        - SG - Ansible-Network
        - SG - Ansible-Openshift
        - SG - Ansible-Rely
        - SG - Ansible-TRP
        - SG - Ansible-Windows
        - SG - Ansible-BIRT
        - jira_prod
        - aem_pipeline

  - name: AWS Dynamic Inventory
    description:
    organization: dettonville
    sources:
      - name: AWS Dynamic
        description: aws_ec2 definitions from Bitbucket
        update_on_launch: true
        credential: AWS Dynamic Inventory
        source: scm
        source_project: dettonville inventory - AAP
        source_path: dettonville/AWS_Dynamic/
        overwrite: true
      - name: dettonville inventory xenv
        description: Inventory from repository
        update_on_launch: true
        source: scm
        source_project: dettonville inventory - AAP
        source_path: "dettonville/{{ controller_env | upper }}/xenv_infra_hosts.yml"
        overwrite: true

  - name: Meraki Inventory
    description:
    organization: dettonville
    sources:
      - name: Meraki Dynamic
        description: Meraki definitions from Bitbucket
        update_on_launch: true
        credential: NTW - Meraki Dashboard API
        execution_environment: Default Execution Environment
        source: scm
        source_project: dettonville inventory - AAP
        source_path: dettonville/MERAKI/
        overwrite: true
        overwrite_vars: true
    roles:
      use:
        - SG - Ansible-Network

  - name: Alternate LDAP DCs
    description:
    organization: dettonville
    sources:
      - name: Bitbucket
        description: Inventory from repository
        update_on_launch: true
        source: scm
        source_project: dettonville inventory - AAP
        source_path: dettonville/alt-domain-ldap
        overwrite: true
    roles:
      use:
        - SG - Ansible-Infosec
