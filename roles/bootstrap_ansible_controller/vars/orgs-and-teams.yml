---
controller_organizations:
  - name: dettonville
    description: Dettonville
    teams:
      - SG - Ansible-Admin
      - SG - Ansible-BIDE
      - SG - Ansible-BIDT
      - SG - Ansible-ClientServices
      - SG - Ansible-Database
      - SG - Ansible-DCC
      - SG - Ansible-Digital
      - SG - Ansible-DWP
      - SG - Ansible-East
      - SG - Ansible-Infosec
      - SG - Ansible-Infrasec
      - SG - Ansible-Linux
      - SG - Ansible-Midwa
      - SG - Ansible-Network
      - SG - Ansible-Openshift
      - SG - Ansible-Rely
      - SG - Ansible-TRP
      - SG - Ansible-Windows
      - SG - Ansible-BIRT
    auditors:
      - SG - Ansible-Infrasec
    admin_roles:
      project_admin: "{{ bootstrap_ansible_controller__env_specific_vars[controller_env]['development_groups'] }}"
      inventory_admin: "{{ bootstrap_ansible_controller__env_specific_vars[controller_env]['development_groups'] }}"
      job_template_admin: "{{ bootstrap_ansible_controller__env_specific_vars[controller_env]['development_groups'] }}"
      credential_admin:
        - SG - Ansible-Admin
      workflow_admin:
        - SG - Ansible-Admin
      notification_admin:
        - SG - Ansible-Admin
      execution_environment_admin:
        - SG - Ansible-Admin
    galaxy_credentials: "{{ bootstrap_ansible_controller__env_specific_vars[controller_env]['galaxy_creds'] }}"

# __org_team_list is a list of dictionary items with an entry for each org/team combination. e.g.:
#
# __org_team_list:
#   - organization: dettonville
#     team: SG - Ansible-Admin
#   - organization: dettonville
#     team: SG - Ansible-Midwa
#   - organization: FakeOrg
#     team: SG - Ansible-Admin

__org_team_list: |-
    {% set ns = namespace() %}
    {% for org in controller_organizations %}
    {% set ns.combined_list = ns.combined_list | d([]) + [org['name']] | product(org['teams']) | list %}
    {% for each in ns.combined_list %}
    {% set ns.list_of_dicts = ns.list_of_dicts | d([]) + [{'organization': each[0], 'team': each[1]}] %}
    {% endfor %}
    {% endfor %}
    {{ ns.list_of_dicts }}
