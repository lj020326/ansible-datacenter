---
bootstrap_ansible_controller__state: present

bootstrap_ansible_controller__smtp_host: smtp.dettonville.int
bootstrap_ansible_controller__smtp_port: 25
bootstrap_ansible_controller__smtp_sender: svc.ansible@dettonville.org

# Common settings for all email notifications
bootstrap_ansible_controller__default_email_notification_settings:
  host: "{{ bootstrap_ansible_controller__smtp_host }}"
  port: "{{ bootstrap_ansible_controller__smtp_port }}"
  use_tls: false
  use_ssl: false
  username: ''
  password: ''
  sender: "{{ bootstrap_ansible_controller__smtp_sender }}"
  timeout: 120

__bootstrap_ansible_controller__project_sync_timeout: 300
__bootstrap_ansible_controller__controller_host: "{{ bootstrap_ansible_controller__controller_host | d(tower_host) | d(ansible_env.bootstrap_ansible_controller__controller_host) | d(ansible_env.TOWER_HOST) }}"

__bootstrap_ansible_controller__controller_oauth_token: "{{ bootstrap_ansible_controller__controller_oauth_token | d(tower_oauth_token)
  | d(ansible_env.bootstrap_ansible_controller__controller_oauth_token) | d(ansible_env.TOWER_OAUTH_TOKEN) }}"

__bootstrap_ansible_controller__controller_verify_ssl: "{{ bootstrap_ansible_controller__controller_verify_ssl | d(tower_verify_ssl)
  | d(ansible_env.CONTROLLER_VERIFY_SSL) | d(ansible_env.TOWER_VERIFY_SSL) | d(False) }}"

bootstrap_ansible_controller__validate_credentials: true

__bootstrap_ansible_controller__test_environments:
  - sandbox

__bootstrap_ansible_controller__missing_playbook_fallback_project: dettonville - Ansible Tower Management
__bootstrap_ansible_controller__missing_playbook_fallback_playbook: playbook_does_not_exist.yml

## ref: https://dmsimard.com/2017/05/10/limiting-the-amount-of-concurrent-asynchronous-tasks-in-ansible/
#__bootstrap_ansible_controller__async_max_batch_size_default: 10
__bootstrap_ansible_controller__async_max_batch_size_default: 40
__bootstrap_ansible_controller__async_max_batch_size: "{{ 
  bootstrap_ansible_controller__async_max_batch_size 
  | d(__bootstrap_ansible_controller__async_max_batch_size_default) }}"

#__bootstrap_ansible_controller__async_max_runtime_in_seconds_default: 1000
__bootstrap_ansible_controller__async_max_runtime_in_seconds_default: 120
__bootstrap_ansible_controller__async_max_runtime_in_seconds: "{{ 
  bootstrap_ansible_controller__async_max_runtime_in_seconds 
  | d(__bootstrap_ansible_controller__async_max_runtime_in_seconds_default) }}"
