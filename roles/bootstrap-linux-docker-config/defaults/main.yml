---

bootstrap_docker__config: {}

bootstrap_docker__compose_version: ""

#bootstrap_docker__users: ["{{ ansible_env.SUDO_USER | d('root') }}"]
bootstrap_docker__users: ["{{ ansible_env.USER | d('root') }}"]

bootstrap_docker__registries: []

bootstrap_docker__default_daemon_json: []
#bootstrap_docker__default_daemon_json: |
#  "log-driver": "journald"

bootstrap_docker__daemon_json: ""

bootstrap_docker__daemon_flags:
  - "-H unix://"

bootstrap_docker__daemon_environment: []

bootstrap_docker__systemd_override: ""

bootstrap_docker__cron_jobs_prune_flags: "af"
bootstrap_docker__cron_jobs:
  - name: "Docker disk clean up"
    job: "docker system prune -{{ bootstrap_docker__cron_jobs_prune_flags }} > /dev/null 2>&1"
    schedule: ["0", "0", "*", "*", "0"]
    cron_file: "docker-disk-clean-up"
    user: "{{ (bootstrap_docker__users | first) | d('root') }}"

bootstrap_docker__pip_dependencies:
  - "python-setuptools"
  - "python{{ '3' if ansible_python.version.major == 3 else '' }}-pip"

bootstrap_docker__pip_virtualenv: "/usr/local/lib/docker/virtualenv"

bootstrap_docker__python_virtualenv_command: "python3 -m venv"

bootstrap_docker__default_pip_packages:
  - name: "docker"
    state: "{{ bootstrap_docker__pip_docker_state }}"
    virtual_env_state: "{{ bootstrap_docker__pip_docker_state }}"
  - name: "docker-compose"
    version: "{{ bootstrap_docker__compose_version | d(omit) }}"
    path: "/usr/local/bin/docker-compose"
    src: "{{ bootstrap_docker__pip_virtualenv + '/bin/docker-compose' }}"
#    state: "absent"
    state: "{{ bootstrap_docker__pip_docker_compose_state }}"
    virtual_env_state: "{{ bootstrap_docker__pip_docker_compose_state }}"
bootstrap_docker__pip_packages: []

bootstrap_docker__pip_docker_state: "present"
bootstrap_docker__pip_docker_compose_state: "present"
#bootstrap_docker__pip_docker_compose_state: "forcereinstall"

### firewall
docker_server__unencrypted_tcp_port: '2375'
docker_server__tls_tcp_port: '2376'
bootstrap_docker__firewalld_ports:
  - "{{ docker_server__unencrypted_tcp_port }}/tcp"
  - "{{ docker_server__tls_tcp_port }}/tcp"

#ansible_python_docker_interpreter: "/usr/bin/env python-docker"
ansible_python_docker_interpreter: "/usr/local/bin/python-docker"

### setup docker app user

#
## admin user
bootstrap_docker__user_username: container-user
bootstrap_docker__user_password: container-user
bootstrap_docker__user_group: container-user
bootstrap_docker__user_shell: /bin/bash
bootstrap_docker__user_sudo_access: no

#bootstrap_docker__user_home: "/home/{{bootstrap_docker__user_username}}"
bootstrap_docker__user_hash_seed: "sldkfjlkenwq4tm;24togk34t"

bootstrap_docker__user_groups:
  CentOS: &rhgroups
    - adm
    - cdrom
#    - dip
    - docker
  Fedora: *rhgroups
  Scientific: *rhgroups

  Debian: &debgroups
    - adm
    - cdrom
    - dip
    - plugdev
    - docker
  Ubuntu: *debgroups

bootstrap_docker__sudo_group:
  CentOS: &rhsudogroup wheel
  Fedora: *rhsudogroup
  Scientific: *rhsudogroup
  Debian: &debsudogroup sudo
  Ubuntu: *debsudogroup

## consistent with docker setup role (bootstrap-linux-docker)
## defaults file for bootstrap-linux-docker
bootstrap_docker__options:
  api-cors-header: "{{ bootstrap_docker__api_cors_header | default(None) }}"
  authorization-plugins: "{{ bootstrap_docker__authorization_plugins | default(None) }}"
  bip: "{{ bootstrap_docker__bip | default(None) }}"
  bridge: "{{ bootstrap_docker__bridge | default(None) }}"
  cgroup-parent: "{{ bootstrap_docker__cgroup_parent | default(None) }}"
  cluster-store: "{{ bootstrap_docker__cluster_store | default(None) }}"
  cluster-store-opts: "{{ bootstrap_docker__cluster_store_opts | default(None) }}"
  cluster-advertise: "{{ bootstrap_docker__cluster_advertise | default(None) }}"
  debug: "{{ bootstrap_docker__debug | default(None) }}"
  default-gateway: "{{ bootstrap_docker__default_gateway | default(None) }}"
  default-gateway-v6: "{{ bootstrap_docker__default_gateway_v6 | default(None) }}"
  default-runtime: "{{ bootstrap_docker__default_runtime | default(None) }}"
  default-ulimits: "{{ bootstrap_docker__default_ulimits | default(None) }}"
  disable-legacy-registry: "{{ bootstrap_docker__disable_legacy_registry | default(None) }}"
  dns: "{{ bootstrap_docker__dns | default(None) }}"
  dns-opts: "{{ bootstrap_docker__dns_opts | default(None) }}"
  dns-search: "{{ bootstrap_docker__dns_search | default(None) }}"
  exec-opts: "{{ bootstrap_docker__exec_opts | default(None) }}"
  exec-root: "{{ bootstrap_docker__exec_root | default(None) }}"
  fixed-cidr: "{{ bootstrap_docker__fixed_cidr | default(None) }}"
  fixed-cidr-v6: "{{ bootstrap_docker__fixed_cidr_v6 | default(None) }}"
  graph: "{{ bootstrap_docker__graph | default(None) }}"
  group: "{{ bootstrap_docker__group | default(None) }}"
  hosts: "{{ bootstrap_docker__hosts | default(None) }}"
  icc: "{{ bootstrap_docker__icc | default(None) }}"
  insecure-registries: "{{ bootstrap_docker__insecure_registries | default(None) }}"
  ip: "{{ bootstrap_docker__ip | default(None) }}"
  iptables: "{{ bootstrap_docker__iptables | default(None) }}"
  ipv6: "{{ bootstrap_docker__ipv6 | default(None) }}"
  ip-forward: "{{ bootstrap_docker__ip_forward | default(None) }}"
  ip-masq: "{{ bootstrap_docker__ip_masq | default(None) }}"
  labels: "{{ bootstrap_docker__labels | default(None) }}"
  live-restore: "{{ bootstrap_docker__live_restore | default(None) }}"
  log-driver: "{{ bootstrap_docker__log_driver | default(None) }}"
  log-level: "{{ bootstrap_docker__log_level | default(None) }}"
  log-opts: "{{ bootstrap_docker__log_opts | default(None) }}"
  max-concurrent-downloads: "{{ bootstrap_docker__max_concurrent_downloads | default(None) }}"
  max-concurrent-uploads: "{{ bootstrap_docker__max_concurrent_uploads | default(None) }}"
  mtu: "{{ bootstrap_docker__mtu | default(None) }}"
  oom-score-adjust: "{{ bootstrap_docker__oom_score_adjust | default(None) }}"
  pidfile: "{{ bootstrap_docker__pidfile | default(None) }}"
  raw-logs: "{{ bootstrap_docker__raw_logs | default(None) }}"
  registry-mirrors: "{{ bootstrap_docker__registry_mirrors | default(None) }}"
  runtimes: "{{ bootstrap_docker__runtimes | default(None) }}"
  selinux-enabled: "{{ bootstrap_docker__selinux_enabled | default(None) }}"
  swarm-default-advertise-addr: "{{ docker_swarm_default_advertise_addr | default(None) }}"
  storage-driver: "{{ docker_storage_driver | default(None) }}"
  storage-opts: "{{ docker_storage_opts | default(None) }}"
  tls: "{{ docker_tls | default(None) }}"
  tlscacert: "{{ docker_tlscacert | default(None) }}"
  tlscert: "{{ docker_tlscert | default(None) }}"
  tlskey: "{{ docker_tlskey | default(None) }}"
  tlsverify: "{{ docker_tlsverify | default(None) }}"
  userland-proxy: "{{ docker_userland_proxy | default(None) }}"
  userns-remap: "{{ docker_userns_remap | default(None) }}"

