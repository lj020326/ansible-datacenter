---
# .jenkins/ansible-test-units.yml
moleculeCommand: test
# logLevel: DEBUG
preTestCmd: >-
  molecule --version
# testingType is automatically set to 'units' by runAnsibleTestUnits
# testingType:
#  - units
strategy:
  fail-fast: false
  matrix:
    # Ansible Support Matrix
    # https://docs.ansible.com/ansible/latest/reference_appendices/release_and_maintenance.html#ansible-core-support-matrix
    versions:
      # Testing all platform versions is impractical. Only test the newest and
      # oldest versions of each that we support
      - {pythonVersion: '3.13', ansibleVersion: "2.20", moleculeImage: "systemd-python-centos:9", moleculeScenario: bootstrap_linux_package}
      - {pythonVersion: '3.13', ansibleVersion: "2.20", moleculeImage: "systemd-python-ubuntu:24.04", moleculeScenario: bootstrap_linux_package}
      - {pythonVersion: '3.13', ansibleVersion: "2.19", moleculeImage: "systemd-python-centos:9", moleculeScenario: bootstrap_linux_package}
      - {pythonVersion: '3.13', ansibleVersion: "2.19", moleculeImage: "systemd-python-centos:10", moleculeScenario: bootstrap_linux_package}
      - {pythonVersion: '3.13', ansibleVersion: "2.19", moleculeImage: "systemd-python-ubuntu:24.04", moleculeScenario: bootstrap_linux_package}
#      - {pythonVersion: '3.13', ansibleVersion: "devel", moleculeImage: "systemd-python-ubuntu:24.04", moleculeScenario: bootstrap_linux_package}
      - {pythonVersion: '3.12', ansibleVersion: "2.19", moleculeImage: "systemd-python-centos:9", moleculeScenario: bootstrap_linux_package}
      - {pythonVersion: '3.12', ansibleVersion: "2.19", moleculeImage: "systemd-python-centos:10", moleculeScenario: bootstrap_linux_package}
      - {pythonVersion: '3.12', ansibleVersion: "2.19", moleculeImage: "systemd-python-ubuntu:24.04", moleculeScenario: bootstrap_linux_package}
#      - {pythonVersion: '3.12', ansibleVersion: "2.16", moleculeImage: "systemd-python-ubuntu:24.04", moleculeScenario: bootstrap_linux_package}
#      - {pythonVersion: '3.11', ansibleVersion: "2.19", moleculeImage: "systemd-python-ubuntu:24.04", moleculeScenario: bootstrap_linux_package}
#      - {pythonVersion: '3.10', ansibleVersion: "2.16", moleculeImage: "systemd-python-ubuntu:24.04", moleculeScenario: bootstrap_linux_package}
