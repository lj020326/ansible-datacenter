---

bootstrap_pip__env_list__jenkins_agent:
  - virtualenv: "~/.venv/ansible"
    libraries:
      - ansible
      - jmespath
      - netaddr

jenkins_swarm_agent_master: "jenkins.admin.{{ service_route_internal_root_domain }}"
jenkins_swarm_agent_tunnel: "{{ jenkins_swarm_agent_master }}:9000"

jenkins_swarm_agent_master_port: "443"
jenkins_swarm_agent_master_protocol: https
#jenkins_swarm_agent_username: sa_swarm_agent
#jenkins_swarm_agent_username: admin

## ref: https://stackoverflow.com/questions/45466090/how-to-get-the-api-token-for-jenkins
jenkins_swarm_agent_username: "{{ vault__jenkins_agent_username }}"
jenkins_swarm_agent_password: "{{ vault__jenkins_agent_password }}"
#jenkins_swarm_agent_password: "{{ vault__jenkins_agent_passwords[jenkins_swarm_agent_master] }}"

jenkins_swarm_agent_num_executors: 8

jenkins_swarm_agent_labels_pre_flatten:
  - linux
  - packer
  - ansible
  - "{{ group_names | intersect(['docker','control_node']) }}"

jenkins_swarm_agent_labels: "{{ jenkins_swarm_agent_labels_pre_flatten | flatten }}"

jenkins_swarm_client_version: 3.25

