---

vcenter_hostname: "vcsa.dettonville.int"
vcenter_username: "administrator@vsphere.local"
vcenter_password: "password"

#govc_path: /tmp
#govc_version: "0.12.1"
govc_version: "0.23.0"
govc_path: /usr/local/bin
govc_file: "{{govc_path}}/govc"

vmware_vm_template_id_default: ubuntu22

vmware_vm_gateway_ip: "{{ gateway_ipv4 }}"
vmware_vm_guest_domain_default: "dettonville.int"
vmware_vm_name_default: vm-ubuntu-01

#vmware_vm_datacenter: "johnsondc"
vmware_vm_datacenter: "dettonville-dc-01"
vmware_vm_cluster_default: "Management"

#vmware_vm_host_default: "esx02.{{ vmware_vm_guest_domain_default }}"
vmware_vm_host_default: "esx00.{{ vmware_vm_guest_domain_default }}"

#vmware_vm_folder_default: "/{{ vmware_vm_datacenter }}/vm"
vmware_vm_folder_default: "/{{ vmware_vm_datacenter }}/vm/vm"
#vmware_vm_datastore_default: "esx02_ds1"
#vmware_vm_datastore_default: "esx2_ds3"
vmware_vm_datastore_default: "nfs_ds1"
vmware_vm_datastore_folder_default: vm

vmware_vm_memory_mb_default: 1024
vmware_vm_num_cpus_default: 2

#vmware_vm_scsi_default: "lsilogic"
vmware_vm_scsi_default: "paravirtual"
#vmware_vm_controller_type_default: "lsilogic"
vmware_vm_controller_type_default: "paravirtual"

vmware_vm_disk_size_gb_default: 16
vmware_vm_disk_type_default: thin

#vmware_vm_network_type_default: static
vmware_vm_network_type_default: dhcp

vmware_vm_network_name_default: "VM Network"
#vmware_vm_network_device_type_default: e1000
#vmware_vm_network_device_type_default: vmxnet3
vmware_vm_network_start_connected: yes
vmware_vm_network_connected: yes

vmware_vm_services_default:
    - motd

vmware_vm_dns_nameservers_default: "{{ dns_nameservers }}"

vmware_vm_hardware_default:
  memory_mb: "{{ vmware_vm_memory_mb_default }}"
  num_cpus: "{{ vmware_vm_num_cpus_default }}"
  scsi: "{{ vmware_vm_controller_type_default }}"

vmware_vm_disks_default:
  - size_gb: "{{ vmware_vm_disk_size_gb_default }}"
    type: "{{ vmware_vm_disk_type_default }}"
    datastore: "{{ vmware_vm_datastore_default }}"
#    controller_type: "{{ vmware_vm_controller_type_default | d(omit) }}"

vmware_vm_networks_default: []
#vmware_vm_networks_default:
#  - name: "{{ vmware_vm_network_name_default }}"
#    start_connected: "{{ vmware_vm_network_start_connected | d(True) }}"
#    connected: "{{ vmware_vm_network_connected | d(True) }}"
#    mac: "{{ vmware_vm_mac_address_default | d(omit) }}"
#    device_type: "{{ vmware_vm_network_device_type_default | d(omit) }}"

deploy_vm_vmware_appliance_list: "{{ groups['vmware_appliance']|d([]) }}"
deploy_vm_vmware_vm_list: "{{ groups['vmware_vm']|d([]) | difference(deploy_vm_vmware_appliance_list) }}"

deploy_vm__vmware_vm_defaults:
  name: "{{ vmware_vm_name_default }}"
  template_id: "{{ vmware_vm_template_id_default }}"
  cluster: "{{ vmware_vm_cluster_default }}"
  host: "{{ vmware_vm_host_default }}"
  folder: "{{ vmware_vm_folder_default }}"
  hardware: "{{ vmware_vm_hardware_default }}"
  datastore: "{{ vmware_vm_datastore_default }}"
  datastore_folder: "{{ vmware_vm_datastore_folder_default }}"
  controller_type: "{{ vmware_vm_controller_type_default }}"
  disks: "{{ vmware_vm_disks_default }}"
  network_type: "{{ vmware_vm_network_type_default }}"
  networks: "{{ vmware_vm_networks_default }}"
  guest_domain: "{{ vmware_vm_guest_domain_default }}"
  dns_servers: "{{ vmware_vm_dns_nameservers_default }}"
  dns_suffix: "{{ vmware_vm_guest_domain_default }}"
  services: "{{ vmware_vm_services_default }}"


deploy_vm_template_info:
  ubuntu18:
    name: packer-template-ubuntu18
    network_service: systemd-networkd
  ubuntu20:
    name: packer-template-ubuntu20
    network_service: systemd-networkd
  ubuntu22:
    name: packer-template-ubuntu22
    network_service: systemd-networkd
  centos7:
    name: packer-template-centos7
    network_service: NetworkManager
  centos8:
    name: packer-template-centos8
    network_service: NetworkManager
  centos9:
    name: packer-template-centos9
    network_service: NetworkManager
  redhat7:
    name: packer-template-redhat7
    network_service: NetworkManager
  redhat8:
    name: packer-template-redhat8
    network_service: NetworkManager
  redhat9:
    name: packer-template-redhat9
    network_service: NetworkManager
  debian8:
    name: packer-template-debian8
    network_service: NetworkManager
  debian9:
    name: packer-template-debian9
    network_service: NetworkManager
  debian10:
    name: packer-template-debian10
    network_service: NetworkManager
  win2012:
    name: packer-template-win2012
  win2016:
    name: packer-template-win2016dccore
  win2019:
    name: packer-template-win2019dc
  openshift4:
    name: packer-template-openshift4


vmware_host_datastores:
  - name: 'nfs_ds1'
    server: "diskstation01.{{ control_plane_domain }}"
    path: '/volume1/data/datacenter/vmware'
    type: 'nfs'
